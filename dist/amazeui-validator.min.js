!function(t,a,e,i){var n=function(a,e){var i={debug:!1,H5validation:!1,H5inputType:["email","url","number"],patterns:{email:/^\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}$/,url:/^(http[s]?|ftp):\/\/[^\/\.]+?\..+\w$/i,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/},activeClass:"field-active",inValidClass:"field-invalid",validClass:"field-valid",activeParentClass:"form-group-active",inValidParentClass:"form-group-invalid",validParentClass:"form-group-valid",validateOnSubmit:!0,alwaysRevalidate:!1,allFields:":input:not(:submit,:button,:disabled)",ignore:":hidden:not(.sync)",customEvents:"validate",keyboardFields:':input:not(:submit, :button, :disabled ,[type="radio"],[type="checkbox"], .novalidate)',keyboardEvents:"focusout, change",pointerFields:'input[type="range"]:not(:disabled, .novalidate), input[type="radio"]:not(:disabled, .novalidate), input[type="checkbox"]:not(:disabled, .novalidate), select:not(:disabled, .novalidate), option:not(:disabled, .novalidate)',pointerEvents:"click",onValid:function(t){},onInValid:function(t){},markValid:function(a){var e=this.options,i=t(a.field),n=i.closest(".form-group");i.addClass(e.validClass).removeClass(e.inValidClass),n.addClass(e.validParentClass).removeClass(e.inValidParentClass),e.onValid.call(this,a)},markInValid:function(a){var e=this.options,i=t(a.field),n=i.closest(".form-group");i.addClass(e.inValidClass).removeClass(e.validClass),n.addClass(e.inValidParentClass).removeClass(e.validParentClass),e.onInValid.call(this,a)},validate:function(t){},submit:null};this.options=t.extend({},i,e),this.$element=a,this.init()};n.prototype.init=function(){function a(t){var a=t.toString();return a.substring(1,a.length-1)}function e(a,e){var l=e.split(",");t.each(l,function(t,e){n.on(e,a,function(){i.validate(this)})})}var i=this,n=i.$element,l=i.options;if(l.H5validation)return!1;n.attr("novalidate","novalidate"),n.addClass("validator"),t.each(l.H5inputType,function(t,e){var i=n.find("input[type="+e+"]");i.attr("pattern")||i.attr("pattern",a(l.patterns[e]))}),n.on("submit",function(a){if("function"==typeof l.submit)return l.submit.call(i,a);if(l.validateOnSubmit){var e=i.isFormValid();return"boolean"===t.type(e)?e:!!n.data("checked")||(t.when(e).then(function(){n.data("checked",!0).submit()},function(){n.data("checked",!1).find("."+l.inValidClass).eq(0).focus()}),!1)}}),e(":input",l.customEvents),e(l.keyboardFields,l.keyboardEvents),e(l.pointerFields,l.pointerEvents)},n.prototype.isValid=function(a){var e=t(a),i=this.options;return(void 0===e.data("validity")||i.alwaysRevalidate)&&this.validate(a),e.data("validity")&&e.data("validity").valid},n.prototype.validate=function(e){var i=this,n=i.$element,l=i.options,r=t(e),o=r.data("equalTo");o&&r.attr("pattern","^"+n.find(o).val()+"$");var d=r.attr("pattern")||!1,s=new RegExp(d),u=null,v=null,c="";c=r.is("[type=checkbox]")?e.name?(v=n.find('input[name="'+e.name+'"]')).filter(":checked").length:t(e).prop("checked")?1:0:r.is("[type=radio]")?e.name?(u=n.find('input[name="'+e.name+'"]')).filter(":checked").length:t(e).prop("checked")?1:0:r.val(),r=v&&v.length?v.first():r;var p=void 0!==r.attr("required")&&"false"!==r.attr("required"),f=parseInt(r.attr("maxlength"),10),m=parseInt(r.attr("minlength"),10),h=Number(r.attr("min")),y=Number(r.attr("max")),g=this.createValidity({field:r[0],valid:!0});if(l.debug&&a.console&&(console.log("Validate: value -> ["+c+" ] , regex -> ["+s+"], required -> "+p),console.log("Regex test: "+s.test(c)+", Pattern: "+d)),!isNaN(f)&&c.length>f&&(g.valid=!1,g.tooLong=!0),!isNaN(m)&&c.length<m&&(g.valid=!1,g.customError="tooShort"),!isNaN(h)&&Number(c)<h&&(g.valid=!1,g.rangeUnderflow=!0),!isNaN(y)&&Number(c)>y&&(g.valid=!1,g.rangeOverflow=!0),p&&!c)g.valid=!1,g.valueMissing=!0;else if((v||r.is('select[multiple="multiple"]'))&&c){c=v?c:c.length;var b=parseInt(r.attr("minchecked"),10),k=parseInt(r.attr("maxchecked"),10);!isNaN(b)&&c<b&&(g.valid=!1,g.customError="checkedUnderflow"),!isNaN(k)&&c>k&&(g.valid=!1,g.customError="checkedOverflow")}else d&&!s.test(c)&&c&&(g.valid=!1,g.patternMismatch=!0);var w,C=function(t){this.markField(t),r.data("validity",t);var a=u||v;return a&&a.not(r).data("validity",t).each(function(){t.field=this,i.markField(t)}),t};if("function"==typeof l.validate&&(w=l.validate.call(i,g)),w){var V=new t.Deferred;return r.data("dfdValidity",V.promise()),console.log(w),t.when(w).always(function(t){V[t.valid?"resolve":"reject"](t),C.call(i,t)})}C.call(i,g)},n.prototype.createValidity=function(a){return t.extend({customError:a.customError||!1,patternMismatch:a.patternMismatch||!1,rangeOverflow:a.rangeOverflow||!1,rangeUnderflow:a.rangeUnderflow||!1,tooLong:a.tooLong||!1,valueMissing:a.valueMissing||!1,valid:a.valid||!0},a)},n.prototype.markField=function(t){var a=this.options,e="mark"+(t.valid?"":"In")+"Valid";a[e]&&a[e].call(this,t)},n.prototype.validateForm=function(){var a=this,e=this.$element,i=this.options,n=e.find(i.allFields).not(i.ignore),l=[],r=!0,o=[],d=t([]),s=[],u=!1;return n.filter(function(t){var a;if("INPUT"===this.tagName&&"radio"===this.type){if(a=this.name,!0===l[a])return!1;l[a]=!0}return!0}).each(function(){var i=t(this),n=a.isValid(this),l=i.data("validity");r=!!n&&r,o.push(l),n||(d=d.add(t(this),e));var v=i.data("dfdValidity");if(v)s.push(v),u=!0;else{var c=new t.Deferred;s.push(c.promise()),c[n?"resolve":"reject"](l)}}),{valid:r,$invalidFields:d,validity:o,promises:s,async:u}},n.prototype.isFormValid=function(){var a=this,e=a.validateForm();if(e.async){var i=new t.Deferred;return t.when.apply(null,e.promises).then(function(){i.resolve()},function(){i.reject()}),i.promise()}if(!e.valid){return e.$invalidFields.first().focus(),!1}return!0},t.fn.formValid=function(t){return new n(this,t)}}(jQuery,window,document);